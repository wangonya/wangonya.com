#+title: Running multiple programs in parallel from a bash script
#+author: Kelvin Wangonya
#+date: 2021-11-22T06:58:33+03:00
#+tags[]: reference bash

This comes in handy when I want to, for example:

- run an MySql proxy to Cloudql or similar, then
- run a project server (fastapi, django etc) that depends on the
  database connection

From
[[https://stackoverflow.com/questions/3004811/how-do-you-run-multiple-programs-in-parallel-from-a-bash-script][this
answer]]:

#+begin_src shell
  set -m  # enable job control

  prog1 & prog2 && fg
#+end_src

This will:

- Start prog1.
- Send it to background, but keep printing its output.
- Start prog2, and keep it in foreground, so you can close it with
  ctrl-c.
- When you close prog2, you'll return to prog1's foreground, so you can
  also close it with ctrl-c.
